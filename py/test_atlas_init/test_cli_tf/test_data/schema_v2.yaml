openapi_changes:
  schema_prefix_removal:
  - ApiAtlas
attributes_skip:
  - pretty
  - envelope
  - links
resources:
  resource_policy:
    paths:
    - /api/atlas/v2/orgs/{orgId}/resourcePolicies
    - /api/atlas/v2/orgs/{orgId}/resourcePolicies/{resourcePolicyId}
    attributes:
      id:
        type: string
        alias: resourcePolicyId
        plan_modifiers:
          - UseStateForUnknown
      policies:
        schema_ref: "#/components/schemas/Policy"
    attribute_type_modifiers:
      optional:
      - name
      required:
      - org_id
      - policies
      - policies.body
      computed:
      - created_by_user
      - last_updated_by_user
      - id
      - version
  stream_processor:
    paths:
      - /api/atlas/v2/groups/{groupId}/streams/{tenantName}/processor
      - /api/atlas/v2/groups/{groupId}/streams/{tenantName}/processor/{processorName}
    attribute_type_modifiers:
      required:
      - pipeline
      - options.*
      computed_optional:
      - state
    attributes:
      id:
        type: string
        alias: _id
        plan_modifiers:
          - UseStateForUnknown
      project_id:
        alias: groupId
      instance_name:
        alias: tenantName
      options:
        is_optional: true
      processor_name:
        alias: name,processorName
      pipeline:
        type: string
        plan_modifiers:
          - schemafunc.DiffSuppressJSON
        validators:
          - validate.StringIsJSON 
      stats:
        type: string
